{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n// ✅ Añade esta verificación\r\nconsole.log(\"Supabase URL:\", supabaseUrl);\r\nconsole.log(\"Supabase Key:\", supabaseAnonKey);\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN,4BAA4B;AAC5B,QAAQ,GAAG,CAAC,iBAAiB;AAC7B,QAAQ,GAAG,CAAC,iBAAiB;AAE7B;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/app/hotel-gallery/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { supabase } from \"../../../lib/supabaseClient\";\r\n\r\ninterface MediaItem {\r\n  id: string;\r\n  url: string;\r\n  type: string;\r\n  tags?: string[];\r\n  category?: string;\r\n  quality_score?: number;\r\n  created_at: string;\r\n}\r\n\r\ninterface Hotel {\r\n  id: string;\r\n  name: string;\r\n  stars?: number;\r\n  hotel_type?: string;\r\n  address?: string;\r\n  city?: string;\r\n  province?: string;\r\n  country?: string;\r\n  profile_image?: string;\r\n}\r\n\r\nexport default function HotelGalleryPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const hotelId = params.id as string;\r\n\r\n  const [hotel, setHotel] = useState<Hotel | null>(null);\r\n  const [media, setMedia] = useState<MediaItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"all\");\r\n  const [expandedImage, setExpandedImage] = useState<string | null>(null);\r\n  const [showErrorReport, setShowErrorReport] = useState<string | null>(null);\r\n\r\n  // Selección múltiple\r\n  const [selectedImages, setSelectedImages] = useState<string[]>([]);\r\n\r\n  const toggleSelectImage = (id: string) => {\r\n    setSelectedImages((prev) =>\r\n      prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  // Nuevo: Corrección de categorías problemáticas\r\n  const getCorrectedCategory = (item: MediaItem) => {\r\n    // Regla de negocio crítica: Si tiene tag \"restaurant\", debe ser categoría \"restaurante\"\r\n    if (item.tags?.includes(\"restaurant\")) {\r\n      return \"restaurante\";\r\n    }\r\n    \r\n    // Regla de negocio: Si tiene tag \"suite\", debe ser categoría \"habitaciones\"\r\n    if (item.tags?.includes(\"suite\")) {\r\n      return \"habitaciones\";\r\n    }\r\n    \r\n    return item.category;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadGallery = async () => {\r\n      try {\r\n        const { data: sessionData } = await supabase.auth.getSession();\r\n        if (!sessionData?.session) {\r\n          router.push(\"/login\");\r\n          return;\r\n        }\r\n\r\n        const userId = sessionData.session.user.id;\r\n\r\n        const { data: orgData } = await supabase\r\n          .from(\"organizations\")\r\n          .select(\"id, role\")\r\n          .eq(\"created_by\", userId)\r\n          .maybeSingle();\r\n\r\n        if (!orgData || orgData.role !== \"agency\") {\r\n          router.push(\"/dashboard\");\r\n          return;\r\n        }\r\n\r\n        const { data: accessData } = await supabase\r\n          .from(\"agency_hotel_access\")\r\n          .select(\"status\")\r\n          .eq(\"agency_id\", orgData.id)\r\n          .eq(\"hotel_id\", hotelId)\r\n          .maybeSingle();\r\n\r\n        if (!accessData || accessData.status !== \"approved\") {\r\n          alert(\"No tienes acceso a este hotel\");\r\n          router.push(\"/dashboard\");\r\n          return;\r\n        }\r\n\r\n        const { data: hotelData } = await supabase\r\n          .from(\"organizations\")\r\n          .select(\"*\")\r\n          .eq(\"id\", hotelId)\r\n          .maybeSingle();\r\n\r\n        if (!hotelData) {\r\n          router.push(\"/dashboard\");\r\n          return;\r\n        }\r\n\r\n        setHotel(hotelData as Hotel);\r\n\r\n        const { data: mediaData } = await supabase\r\n          .from(\"media\")\r\n          .select(\"id, url, type, tags, category, quality_score, created_at\")\r\n          .eq(\"hotel_id\", hotelId)\r\n          .order(\"created_at\", { ascending: false });\r\n\r\n        const sortedMedia = [...(mediaData || [])].sort((a, b) => {\r\n          const qa = a.quality_score ?? 0;\r\n          const qb = b.quality_score ?? 0;\r\n          return qb - qa;\r\n        });\r\n\r\n        setMedia(sortedMedia);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Error loading gallery:\", err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (hotelId) loadGallery();\r\n  }, [hotelId, router]);\r\n\r\n  const filteredMedia =\r\n    selectedCategory === \"all\"\r\n      ? media\r\n      : media.filter((m) => getCorrectedCategory(m) === selectedCategory);\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const goBack = () => {\r\n    router.push(\"/dashboard\");\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex justify-center items-center bg-gray-50\">\r\n        <div className=\"p-8 bg-white rounded-xl shadow-sm text-center\">\r\n          <div className=\"w-8 h-8 mx-auto mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\r\n          <p className=\"text-gray-600 text-base\">Cargando galería...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!hotel) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 font-sans\">\r\n      {/* Top bar - Mejorado para estética B2B */}\r\n      <div className=\"fixed top-0 left-0 right-0 h-16 bg-white border-b border-gray-100 flex items-center justify-between px-6 z-50\">\r\n        <div className=\"flex items-center gap-5\">\r\n          <button\r\n            onClick={goBack}\r\n            className=\"flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors font-medium\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n            </svg>\r\n            <span>Volver</span>\r\n          </button>\r\n          \r\n          <div className=\"h-6 w-px bg-gray-200\"></div>\r\n          \r\n          <div className=\"flex flex-col\">\r\n            <h1 className=\"text-lg font-semibold text-gray-800\">{hotel.name}</h1>\r\n            <p className=\"text-xs text-gray-500 mt-0.5\">Galería del hotel</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-4\">\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors text-sm font-medium\"\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n            </svg>\r\n            <span>Cerrar sesión</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <div className=\"pt-20 pb-12\">\r\n        <div className=\"max-w-7xl mx-auto px-4\">\r\n\r\n          {/* Filtro */}\r\n          <div className=\"mb-8 flex flex-wrap gap-2\">\r\n            {[\r\n              { key: \"all\", label: \"Todas\" },\r\n              { key: \"exterior\", label: \"Exterior\" },\r\n              { key: \"habitaciones\", label: \"Habitaciones\" },\r\n              { key: \"interior\", label: \"Interior\" },\r\n              { key: \"salas_comunes\", label: \"Salas comunes\" },\r\n              { key: \"restaurante\", label: \"Restaurante\" },\r\n              { key: \"piscina\", label: \"Piscina\" },\r\n              { key: \"spa\", label: \"Spa\" },\r\n              { key: \"otros\", label: \"Otros\" },\r\n            ].map((cat) => (\r\n              <button\r\n                key={cat.key}\r\n                onClick={() => setSelectedCategory(cat.key)}\r\n                className={`px-4 py-2 rounded-full text-sm font-medium border transition-all ${\r\n                  selectedCategory === cat.key\r\n                    ? \"bg-blue-600 text-white border-blue-600 shadow-sm\"\r\n                    : \"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100\"\r\n                }`}\r\n              >\r\n                {cat.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Botón de descarga por categoría */}\r\n          {selectedCategory !== \"all\" && (\r\n            <a\r\n              href={`/api/download-category?hotel=${hotelId}&category=${selectedCategory}`}\r\n              className=\"inline-block mb-6 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition\"\r\n            >\r\n              Descargar categoría\r\n            </a>\r\n          )}\r\n\r\n          {/* Botón de descarga de galería completa */}\r\n          {selectedCategory === \"all\" && (\r\n            <a\r\n              href={`/api/download-gallery?hotel=${hotelId}`}\r\n              className=\"inline-block mb-6 px-4 py-2 bg-gray-700 text-white rounded-lg text-sm font-medium hover:bg-gray-800\"\r\n            >\r\n              Descargar galería completa\r\n            </a>\r\n          )}\r\n\r\n          {/* Botón de descarga selección */}\r\n          {selectedImages.length > 0 && (\r\n            <a\r\n              href={`/api/download-selection?ids=${selectedImages.join(\",\")}`}\r\n              className=\"inline-block mb-6 ml-3 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition\"\r\n            >\r\n              Descargar selección ({selectedImages.length})\r\n            </a>\r\n          )}\r\n\r\n          {/* Grid */}\r\n          {filteredMedia.length === 0 ? (\r\n            // Mensaje de \"sin contenido\" mejorado para estética B2B\r\n            <div className=\"text-center py-12 bg-gray-50 rounded-xl border border-gray-200\">\r\n              <h3 className=\"text-xl font-medium text-gray-700 mb-2\">\r\n                {selectedCategory === \"all\"\r\n                  ? \"Sin contenido multimedia\"\r\n                  : `No hay contenido en \"${selectedCategory.replace(\"_\", \" \")}\"`}\r\n              </h3>\r\n              <p className=\"text-gray-500 text-base\">\r\n                {selectedCategory === \"all\"\r\n                  ? \"Este hotel aún no ha subido fotos o videos.\"\r\n                  : \"No hay contenido en esta categoría.\"}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n              {filteredMedia.map((item) => (\r\n                <div\r\n                  key={item.id}\r\n                  className={`bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer ${\r\n                    selectedImages.includes(item.id) \r\n                      ? 'ring-2 ring-blue-500 ring-offset-2 scale-[1.01] shadow-md' \r\n                      : 'hover:scale-[1.01]'\r\n                  }`}\r\n                  onClick={() => setExpandedImage(item.url)}\r\n                >\r\n                  <div className=\"relative group\">\r\n\r\n                    {/* Checkbox con animación mejorada */}\r\n                    <label\r\n                      htmlFor={`select-${item.id}`}\r\n                      className=\"absolute top-3 right-3 z-20 cursor-pointer\"\r\n                      onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                      <input\r\n                        id={`select-${item.id}`}\r\n                        type=\"checkbox\"\r\n                        checked={selectedImages.includes(item.id)}\r\n                        onChange={() => toggleSelectImage(item.id)}\r\n                        className=\"hidden\"\r\n                      />\r\n                      \r\n                      {/* Círculo exterior con animación */}\r\n                      <div \r\n                        className={`relative w-6 h-6 rounded-full border-2 transition-all duration-300 ${\r\n                          selectedImages.includes(item.id)\r\n                            ? 'border-blue-500 bg-blue-50'\r\n                            : 'border-gray-300 bg-white hover:border-blue-400'\r\n                        } flex items-center justify-center`}\r\n                      >\r\n                        {/* Punto central con animación de escala */}\r\n                        <div \r\n                          className={`w-3 h-3 rounded-full transition-all duration-300 transform ${\r\n                            selectedImages.includes(item.id)\r\n                              ? 'bg-blue-500 scale-100 opacity-100'\r\n                              : 'bg-gray-300 scale-0 opacity-0'\r\n                          }`}\r\n                        />\r\n                      </div>\r\n                    </label>\r\n\r\n                    <img\r\n                      src={item.url}\r\n                      alt={item.category || \"Hotel media\"}\r\n                      className=\"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105\"\r\n                    />\r\n                    \r\n                    {/* Nuevo: Alerta de clasificación incorrecta */}\r\n                    {item.category !== getCorrectedCategory(item) && (\r\n                      <div className=\"absolute top-3 left-3 bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full font-medium z-10\">\r\n                        <span className=\"flex items-center gap-1\">\r\n                          <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                          </svg>\r\n                          Corregir categoría\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* INFO + ICONO DE DESCARGA */}\r\n                  <div className=\"p-4 bg-gray-50 border-t border-gray-200 flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      {/* Usamos la categoría corregida */}\r\n                      {getCorrectedCategory(item) && (\r\n                        <p className=\"text-xs font-semibold text-blue-600 mb-2 capitalize\">\r\n                          {getCorrectedCategory(item).replace(\"_\", \" \")}\r\n                        </p>\r\n                      )}\r\n\r\n                      <div className=\"flex flex-wrap gap-1 mb-2\">\r\n                        {item.tags?.slice(0, 3).map((tag) => (\r\n                          <span\r\n                            key={tag}\r\n                            className=\"bg-blue-50 text-blue-600 text-xs px-2 py-0.5 rounded\"\r\n                          >\r\n                            {tag}\r\n                          </span>\r\n                        ))}\r\n                        {item.tags && item.tags.length > 3 && (\r\n                          <span className=\"text-gray-400 text-xs\">\r\n                            +{item.tags.length - 3}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        {item.type === \"video\" ? \"Video\" : \"Foto\"} —{\" \"}\r\n                        {new Date(item.created_at).toLocaleDateString()}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <a\r\n                      href={`/api/download?url=${encodeURIComponent(item.url)}&id=${item.id}`}\r\n                      onClick={(e) => e.stopPropagation()}\r\n                      className=\"ml-3 text-gray-400 hover:text-blue-600 transition\"\r\n                      title=\"Descargar\"\r\n                    >\r\n                      <svg\r\n                        className=\"w-6 h-6\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"2\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          d=\"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4\"\r\n                        />\r\n                      </svg>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {expandedImage && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4\"\r\n          onClick={() => setExpandedImage(null)}\r\n        >\r\n          <div className=\"relative max-w-4xl w-full\">\r\n            <button\r\n              onClick={() => setExpandedImage(null)}\r\n              className=\"absolute top-4 right-4 text-white hover:text-gray-300 transition\"\r\n            >\r\n              <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n\r\n            <img\r\n              src={expandedImage}\r\n              alt=\"Expanded view\"\r\n              className=\"w-full max-h-[80vh] object-contain\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Nuevo: Componente de corrección de errores */}\r\n      {showErrorReport && (\r\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl w-full max-w-md\">\r\n            <div className=\"p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Corregir clasificación</h3>\r\n              \r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Categoría actual\r\n                </label>\r\n                <div className=\"bg-gray-50 border border-gray-300 rounded-lg p-2\">\r\n                  {media.find(m => m.id === showErrorReport)?.category?.replace(\"_\", \" \") || \"N/A\"}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Categoría correcta\r\n                </label>\r\n                <select \r\n                  className=\"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  defaultValue={media.find(m => m.id === showErrorReport)?.category}\r\n                >\r\n                  <option value=\"habitaciones\">Habitaciones</option>\r\n                  <option value=\"restaurante\">Restaurante</option>\r\n                  <option value=\"exterior\">Exterior</option>\r\n                  <option value=\"interior\">Interior</option>\r\n                  <option value=\"salas_comunes\">Salas comunes</option>\r\n                  <option value=\"piscina\">Piscina</option>\r\n                  <option value=\"spa\">Spa</option>\r\n                  <option value=\"otros\">Otros</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end gap-3\">\r\n                <button\r\n                  onClick={() => setShowErrorReport(null)}\r\n                  className=\"px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-300 rounded-lg transition\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    // Aquí iría la lógica para reportar el error\r\n                    console.log(\"Reportando error de clasificación\");\r\n                    setShowErrorReport(null);\r\n                  }}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\r\n                >\r\n                  Confirmar corrección\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}