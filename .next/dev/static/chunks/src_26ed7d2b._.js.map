{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n// ‚úÖ A√±ade esta verificaci√≥n\r\nconsole.log(\"Supabase URL:\", supabaseUrl);\r\nconsole.log(\"Supabase Key:\", supabaseAnonKey);\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN,4BAA4B;AAC5B,QAAQ,GAAG,CAAC,iBAAiB;AAC7B,QAAQ,GAAG,CAAC,iBAAiB;AAE7B;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/hooks/useNotifications.ts"],"sourcesContent":["// src/hooks/useNotifications.ts\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { supabase } from '../lib/supabaseClient';\r\n\r\nexport interface Notification {\r\n  id: string;\r\n  user_id: string;\r\n  organization_id: string;\r\n  type: string;\r\n  title: string;\r\n  message: string;\r\n  data: any;\r\n  is_read: boolean;\r\n  created_at: string;\r\n  date: string; // ‚úÖ A√ëADIDO: Propiedad requerida por NotificationsDropdown\r\n}\r\n\r\nexport function useNotifications(userId: string | null) {\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const loadNotifications = useCallback(async () => {\r\n    if (!userId) {\r\n      setNotifications([]);\r\n      setUnreadCount(0);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('notifications')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .order('created_at', { ascending: false })\r\n        .limit(20);\r\n\r\n      if (error) throw error;\r\n\r\n      // ‚úÖ Mapear para a√±adir la propiedad `date` basada en `created_at`\r\n      const notificationsWithDate = (data || []).map((n: any) => ({\r\n        ...n,\r\n        date: n.created_at // Convertir created_at ‚Üí date\r\n      }));\r\n\r\n      setNotifications(notificationsWithDate);\r\n      setUnreadCount(notificationsWithDate.filter((n: Notification) => !n.is_read).length);\r\n    } catch (error) {\r\n      console.error('Error loading notifications:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [userId]);\r\n\r\n  const markAsRead = useCallback(async (notificationId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .update({ is_read: true })\r\n        .eq('id', notificationId);\r\n\r\n      if (error) throw error;\r\n\r\n      setNotifications(prev =>\r\n        prev.map(n => (n.id === notificationId ? { ...n, is_read: true } : n))\r\n      );\r\n      setUnreadCount(prev => Math.max(0, prev - 1));\r\n    } catch (error) {\r\n      console.error('Error marking notification as read:', error);\r\n    }\r\n  }, []);\r\n\r\n  const markAllAsRead = useCallback(async () => {\r\n    if (!userId) return;\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .update({ is_read: true })\r\n        .eq('user_id', userId)\r\n        .eq('is_read', false);\r\n\r\n      if (error) throw error;\r\n\r\n      setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\r\n      setUnreadCount(0);\r\n    } catch (error) {\r\n      console.error('Error marking all notifications as read:', error);\r\n    }\r\n  }, [userId]);\r\n\r\n  const deleteNotification = useCallback(async (notificationId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .delete()\r\n        .eq('id', notificationId);\r\n\r\n      if (error) throw error;\r\n\r\n      setNotifications(prev => prev.filter(n => n.id !== notificationId));\r\n      // Actualizar contador si la notificaci√≥n eliminada estaba sin leer\r\n      setUnreadCount(prev => Math.max(0, prev - 1));\r\n    } catch (error) {\r\n      console.error('Error deleting notification:', error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadNotifications();\r\n\r\n    if (!userId) return;\r\n\r\n    const channel = supabase\r\n      .channel(`notifications:${userId}`)\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'notifications',\r\n          filter: `user_id=eq.${userId}`\r\n        },\r\n        (payload) => {\r\n          console.log('Realtime event:', payload.eventType, payload);\r\n\r\n          if (payload.eventType === 'INSERT') {\r\n            // Nueva notificaci√≥n\r\n            const newNotification = {\r\n              ...(payload.new as any),\r\n              date: (payload.new as any).created_at // ‚úÖ A√±adir date\r\n            };\r\n            setNotifications(prev => [newNotification as Notification, ...prev]);\r\n            if (!(payload.new as any).is_read) {\r\n              setUnreadCount(prev => prev + 1);\r\n            }\r\n          } else if (payload.eventType === 'UPDATE') {\r\n            // Notificaci√≥n actualizada (marcada como le√≠da/no le√≠da)\r\n            const oldNotification = notifications.find(n => n.id === payload.old.id);\r\n            const newNotification = {\r\n              ...(payload.new as any),\r\n              date: (payload.new as any).created_at // ‚úÖ A√±adir date\r\n            } as Notification;\r\n\r\n            setNotifications(prev =>\r\n              prev.map(n => (n.id === newNotification.id ? { ...n, ...newNotification } : n))\r\n            );\r\n\r\n            // Actualizar contador si cambi√≥ el estado de lectura\r\n            if (oldNotification && oldNotification.is_read !== newNotification.is_read) {\r\n              if (newNotification.is_read) {\r\n                setUnreadCount(prev => Math.max(0, prev - 1));\r\n              } else {\r\n                setUnreadCount(prev => prev + 1);\r\n              }\r\n            }\r\n          } else if (payload.eventType === 'DELETE') {\r\n            // Notificaci√≥n eliminada\r\n            const deletedNotification = payload.old as Notification;\r\n            setNotifications(prev => prev.filter(n => n.id !== deletedNotification.id));\r\n            \r\n            // Actualizar contador si la notificaci√≥n eliminada estaba sin leer\r\n            if (!deletedNotification.is_read) {\r\n              setUnreadCount(prev => Math.max(0, prev - 1));\r\n            }\r\n          }\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, [userId, loadNotifications, notifications]);\r\n\r\n  return {\r\n    notifications,\r\n    unreadCount,\r\n    loading: loading,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    deleteNotification,\r\n    reload: loadNotifications\r\n  };\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/app/dashboard/page.tsx"],"sourcesContent":["// src/app/dashboard/page.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"../../lib/supabaseClient\";\r\nimport { useNotifications } from '../../hooks/useNotifications';\r\n\r\ninterface Organization {\r\n  id: string;\r\n  name: string;\r\n  role: string;\r\n  address: string;\r\n  phone: string;\r\n  country: string;\r\n  province: string;\r\n  city: string;\r\n  website: string | null;\r\n  stars: number | null;\r\n  hotel_type: string | null;\r\n  profile_image: string | null;\r\n}\r\n\r\n// Componente NotificationsDropdown - VERSI√ìN COMPLETA SIN CHECK\r\ninterface Notification {\r\n  id: string;\r\n  title: string;\r\n  message: string;\r\n  date: string;\r\n  read?: boolean;\r\n}\r\n\r\ninterface NotificationsDropdownProps {\r\n  notifications: Notification[];\r\n  unreadCount: number;\r\n  loading: boolean;\r\n  markAsRead: (id: string) => void;\r\n  markAllAsRead: () => void;\r\n  deleteNotification: (id: string) => void;\r\n}\r\n\r\nconst NotificationsDropdown = ({ \r\n  notifications, \r\n  unreadCount, \r\n  loading, \r\n  markAsRead, \r\n  markAllAsRead, \r\n  deleteNotification \r\n}: NotificationsDropdownProps) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      const target = event.target as HTMLElement;\r\n      if (!target.closest('.notifications-dropdown')) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"notifications-dropdown relative\">\r\n      {/* Bot√≥n campana con efecto hover */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"relative p-2 text-gray-600 hover:text-blue-600 transition-all hover:-translate-y-0.5\"\r\n      >\r\n        {/* Bell Icon */}\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"1.8\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M14.857 17.657A2 2 0 0113 19H11a2 2 0 01-1.857-1.343M6 8a6 6 0 1112 0c0 3.5 1.5 5 2 5.5H4c.5-.5 2-2 2-5.5z\"\r\n          />\r\n        </svg>\r\n\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute -top-1 -right-1 bg-red-600 text-white text-[10px] font-semibold w-5 h-5 rounded-full flex items-center justify-center shadow\">\r\n            {unreadCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 mt-3 w-96 bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden z-50 animate-fade-in-down\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50\">\r\n            <h3 className=\"font-semibold text-gray-900\">Notificaciones</h3>\r\n\r\n            {unreadCount > 0 && (\r\n              <button\r\n                onClick={markAllAsRead}\r\n                className=\"text-xs font-medium text-blue-600 hover:text-blue-700 hover:underline\"\r\n              >\r\n                Marcar todo como le√≠do\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Loading */}\r\n          {loading && (\r\n            <div className=\"p-6 text-center text-gray-500 text-sm\">\r\n              <div className=\"w-6 h-6 mx-auto mb-2 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\r\n              Cargando notificaciones...\r\n            </div>\r\n          )}\r\n\r\n          {/* Empty */}\r\n          {!loading && notifications.length === 0 && (\r\n            <div className=\"p-6 text-center text-gray-500 text-sm\">\r\n              <div className=\"text-5xl mb-3 opacity-30\">üîî</div>\r\n              No hay notificaciones\r\n            </div>\r\n          )}\r\n\r\n          {/* List - SIN ICONO DE CHECK */}\r\n          {!loading && notifications.length > 0 && (\r\n            <div className=\"max-h-96 overflow-y-auto divide-y divide-gray-100\">\r\n              {notifications.map((n) => (\r\n                <div\r\n                  key={n.id}\r\n                  className={`flex items-start gap-3 px-4 py-4 transition-all cursor-pointer ${\r\n                    !n.read ? \"bg-blue-50\" : \"hover:bg-gray-50\"\r\n                  }`}\r\n                  onClick={() => !n.read && markAsRead(n.id)}\r\n                >\r\n                  {/* Indicador de no le√≠do */}\r\n                  <div className=\"pt-1\">\r\n                    {!n.read && (\r\n                      <span className=\"block w-2 h-2 bg-blue-600 rounded-full animate-pulse\"></span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Contenido */}\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-semibold text-gray-900\">\r\n                      {n.title}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-600 mt-1\">{n.message}</p>\r\n                    <p className=\"text-[11px] text-gray-400 mt-1\">{n.date}</p>\r\n                  </div>\r\n\r\n                  {/* SOLO BOT√ìN DE ELIMINAR */}\r\n                  <div className=\"flex items-start\">\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        deleteNotification(n.id);\r\n                      }}\r\n                      className=\"text-gray-400 hover:text-red-600 hover:scale-110 transition-transform\"\r\n                      title=\"Eliminar\"\r\n                    >\r\n                      {/* X Icon */}\r\n                      <svg\r\n                        className=\"w-4 h-4\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"2\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          d=\"M6 18L18 6M6 6l12 12\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function Dashboard() {\r\n  const [org, setOrg] = useState<Organization | null>(null);\r\n  const [media, setMedia] = useState<{\r\n    id: string;\r\n    url: string;\r\n    type: string;\r\n    tags?: string[];\r\n    category?: string;\r\n    quality_score?: number;\r\n  }[]>([]);\r\n  const [approvedHotels, setApprovedHotels] = useState<{ id: string; name: string }[]>([]);\r\n  const [expandedHotelId, setExpandedHotelId] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeSection, setActiveSection] = useState(\"gallery\");\r\n  const [totalMedia, setTotalMedia] = useState(0);\r\n  const [pendingRequests, setPendingRequests] = useState(0);\r\n  const [connectedAgencies, setConnectedAgencies] = useState(0);\r\n  const [totalHotels, setTotalHotels] = useState(0);\r\n  const [userId, setUserId] = useState<string | null>(null);\r\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"all\");\r\n\r\n  // Hook de notificaciones\r\n  const {\r\n    notifications,\r\n    unreadCount,\r\n    loading: notificationsLoading,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    deleteNotification\r\n  } = useNotifications(userId);\r\n\r\n  useEffect(() => {\r\n    const loadOrg = async () => {\r\n      try {\r\n        const { data: sessionData } = await supabase.auth.getSession();\r\n        \r\n        if (!sessionData?.session) {\r\n          window.location.href = \"/login\";\r\n          return;\r\n        }\r\n\r\n        const userId = sessionData.session.user.id;\r\n        setUserId(userId);\r\n\r\n        const { data: orgData } = await supabase\r\n          .from(\"organizations\")\r\n          .select(\"*\")\r\n          .eq(\"created_by\", userId)\r\n          .maybeSingle();\r\n\r\n        if (!orgData) {\r\n          window.location.href = \"/setup-organization\";\r\n          return;\r\n        }\r\n\r\n        setOrg(orgData as Organization);\r\n\r\n        // Cargar todas las im√°genes del hotel\r\n        if (orgData.role === \"hotel\") {\r\n          const { data: mediaData } = await supabase\r\n            .from(\"media\")\r\n            .select(\"id, url, type, tags, category, quality_score\")\r\n            .eq(\"hotel_id\", orgData.id)\r\n            .order(\"created_at\", { ascending: false });\r\n\r\n          \r\n          setMedia(mediaData || []);\r\n          setTotalMedia(mediaData?.length || 0);\r\n\r\n          // Contar solicitudes pendientes\r\n          const { data: requestsData } = await supabase\r\n            .from(\"agency_hotel_access\")\r\n            .select(\"id\")\r\n            .eq(\"hotel_id\", orgData.id)\r\n            .eq(\"status\", \"pending\");\r\n          \r\n          setPendingRequests(requestsData?.length || 0);\r\n\r\n          // Contar agencias conectadas\r\n          const { data: connectedData } = await supabase\r\n            .from(\"agency_hotel_access\")\r\n            .select(\"id\")\r\n            .eq(\"hotel_id\", orgData.id)\r\n            .eq(\"status\", \"approved\");\r\n          \r\n          setConnectedAgencies(connectedData?.length || 0);\r\n        }\r\n\r\n        // Cargar hoteles aprobados para agencias\r\n        if (orgData.role === \"agency\") {\r\n          const { data: accessData } = await supabase\r\n            .from(\"agency_hotel_access\")\r\n            .select(\"hotel_id, status\")\r\n            .eq(\"agency_id\", orgData.id);\r\n\r\n          if (accessData && Array.isArray(accessData)) {\r\n            const approved = accessData.filter(a => a.status === \"approved\");\r\n            const pending = accessData.filter(a => a.status === \"pending\");\r\n            \r\n            setTotalHotels(approved.length);\r\n            setPendingRequests(pending.length);\r\n\r\n            const hotelIds = approved.map((a: { hotel_id: string }) => a.hotel_id);\r\n            const { data: hotelsData } = await supabase\r\n              .from(\"organizations\")\r\n              .select(\"id, name\")\r\n              .in(\"id\", hotelIds);\r\n            setApprovedHotels(hotelsData || []);\r\n          }\r\n        }\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Error loading data:\", err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadOrg();\r\n  }, []);\r\n\r\n  // Crear la lista filtrada por categor√≠a\r\n  const filteredMedia =\r\n    selectedCategory === \"all\"\r\n      ? media\r\n      : media.filter((m) => m.category === selectedCategory);\r\n\r\n  // ‚≠ê Ordenar por calidad (primero las mejores)\r\n  const sortedMedia = [...filteredMedia].sort((a, b) => {\r\n    const qa = a.quality_score ?? 0;\r\n    const qb = b.quality_score ?? 0;\r\n    return qb - qa; // mayor calidad primero\r\n  });\r\n\r\n  const toggleHotelGallery = (hotelId: string) => {\r\n    if (expandedHotelId === hotelId) {\r\n      setExpandedHotelId(null);\r\n      setMedia([]);\r\n    } else {\r\n      setExpandedHotelId(hotelId);\r\n      supabase\r\n        .from(\"media\")\r\n        .select(\"id, url, type, tags, category, quality_score\")\r\n        .eq(\"hotel_id\", hotelId)\r\n        .order(\"created_at\", { ascending: false })\r\n        .then(({ data }) => setMedia((data || []) as any));\r\n\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex justify-center items-center bg-white\">\r\n        <div className=\"p-8 bg-white rounded-xl shadow-sm text-center\">\r\n          <div className=\"w-8 h-8 mx-auto mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\r\n          <p className=\"text-gray-600 text-base\">Cargando...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!org) return null;\r\n\r\n  // Foto de perfil: usar profile_image si existe, sino avatar por defecto (SIN ESPACIOS)\r\n  const profileImage = org.profile_image \r\n    ? org.profile_image \r\n    : org.role === \"hotel\"\r\n      ? `https://ui-avatars.com/api/?name=${encodeURIComponent(org.name)}&background=3b82f6&color=white`\r\n      : `https://ui-avatars.com/api/?name=${encodeURIComponent(org.name)}&background=10b981&color=white`;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-gray-50 font-sans\">\r\n      {/* SINGLE BLUE SIDEBAR */}\r\n      <aside className=\"w-72 bg-gradient-to-b from-blue-800 to-blue-900 text-white p-6 fixed left-0 top-0 h-screen flex flex-col\">\r\n        {/* Header con logo */}\r\n        <div className=\"flex items-center mb-8 pb-3 border-b border-white/10\">\r\n          <h1 className=\"text-xl font-bold tracking-tight\">Hotel Media Bank</h1>\r\n        </div>\r\n\r\n        {/* User profile */}\r\n        <div className=\"bg-blue-100 rounded-xl p-4 mb-8 shadow-sm\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-14 h-14 rounded-full overflow-hidden flex-shrink-0\">\r\n              <img\r\n                src={profileImage}\r\n                alt={org.name}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"text-sm font-semibold text-blue-900 truncate mb-1\">\r\n                {org.name}\r\n              </h3>\r\n              <p className=\"text-xs text-gray-600 capitalize\">\r\n                {org.role === \"hotel\" ? \"Hotel\" : \"Agencia de viajes\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation menu */}\r\n        <nav className=\"flex-1 flex flex-col gap-2 mb-8\">\r\n          <div \r\n            onClick={() => {\r\n              setActiveSection(\"gallery\");\r\n              window.location.href = \"/dashboard\";\r\n            }}\r\n            className={`px-4 py-3.5 rounded-lg cursor-pointer font-medium text-sm transition-all ${\r\n              activeSection === \"gallery\" \r\n                ? \"bg-white/15 text-white\" \r\n                : \"text-white/80 hover:bg-white/10\"\r\n            }`}\r\n          >\r\n            Dashboard\r\n          </div>\r\n\r\n          {org.role === \"hotel\" && (\r\n            <div \r\n              onClick={() => window.location.href = \"/hotel-requests\"}\r\n              className={`px-4 py-3.5 rounded-lg cursor-pointer font-medium text-sm transition-all ${\r\n                activeSection === \"requests\" \r\n                  ? \"bg-white/15 text-white\" \r\n                  : \"text-white/80 hover:bg-white/10\"\r\n              }`}\r\n            >\r\n              Solicitudes\r\n            </div>\r\n          )}\r\n\r\n          {org.role === \"agency\" && (\r\n            <div \r\n              onClick={() => window.location.href = \"/agency-requests\"}\r\n              className={`px-4 py-3.5 rounded-lg cursor-pointer font-medium text-sm transition-all ${\r\n                activeSection === \"requests\" \r\n                  ? \"bg-white/15 text-white\" \r\n                  : \"text-white/80 hover:bg-white/10\"\r\n              }`}\r\n            >\r\n              Solicitar Acceso\r\n            </div>\r\n          )}\r\n\r\n          <div \r\n            onClick={() => window.location.href = \"/profile\"}\r\n            className={`px-4 py-3.5 rounded-lg cursor-pointer font-medium text-sm transition-all ${\r\n              activeSection === \"profile\" \r\n                ? \"bg-white/15 text-white\" \r\n                : \"text-white/80 hover:bg-white/10\"\r\n            }`}\r\n          >\r\n            Mi Perfil\r\n          </div>\r\n        </nav>\r\n\r\n        {/* Logout button - Centrado y m√°s abajo */}\r\n        <div className=\"mt-auto pt-5 border-t border-white/10\">\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"w-full flex items-center justify-center gap-2 py-0.5 text-blue-200/90 hover:text-white transition-colors text-sm font-medium\"\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n            </svg>\r\n            Cerrar Sesi√≥n\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* MAIN CONTENT */}\r\n      <main className=\"flex-1 ml-72 bg-gray-50 p-8 overflow-y-auto\">\r\n        {/* TOP BAR */}\r\n        <div className=\"fixed top-0 left-72 right-0 h-16 bg-white shadow-sm flex items-center justify-between px-8 z-40\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"text-sm text-gray-500 uppercase font-semibold\">\r\n              {activeSection === \"gallery\" ? \"Dashboard\" : activeSection}\r\n            </span>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-4\">\r\n            {/* Notifications Dropdown - VERSI√ìN COMPLETA SIN CHECK */}\r\n            <NotificationsDropdown\r\n              notifications={notifications}\r\n              unreadCount={unreadCount}\r\n              loading={notificationsLoading}\r\n              markAsRead={markAsRead}\r\n              markAllAsRead={markAllAsRead}\r\n              deleteNotification={deleteNotification}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content with top padding for fixed header */}\r\n        <div className=\"pt-24\">\r\n          {/* Header con t√≠tulo */}\r\n          <div className=\"mb-8\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n              {org.role === \"hotel\" ? \"Mi Galer√≠a\" : \"Hoteles Disponibles\"}\r\n            </h2>\r\n            <p className=\"text-gray-600 text-base\">\r\n              {org.role === \"hotel\" \r\n                ? \"Gestiona y comparte tu contenido multimedia con agencias autorizadas\"\r\n                : \"Accede al contenido multimedia de tus hoteles asociados\"}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Contenido seg√∫n rol */}\r\n          {org.role === \"hotel\" && (\r\n            <div className=\"max-w-7xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n              <div className=\"p-8\">\r\n                {/* Filtro por categor√≠a */}\r\n                <div className=\"mb-6 flex flex-wrap gap-2\">\r\n                  {[\r\n                    { key: \"all\", label: \"Todas\" },\r\n                    { key: \"exterior\", label: \"Exterior\" },\r\n                    { key: \"habitaciones\", label: \"Habitaciones\" },\r\n                    { key: \"interior\", label: \"Interior\" },\r\n                    { key: \"salas_comunes\", label: \"Salas comunes\" },\r\n                    { key: \"restaurante\", label: \"Restaurante\" },\r\n                    { key: \"piscina\", label: \"Piscina\" },\r\n                    { key: \"spa\", label: \"Spa\" },\r\n                    { key: \"otros\", label: \"Otros\" },\r\n                  ].map((cat) => (\r\n                    <button\r\n                      key={cat.key}\r\n                      onClick={() => setSelectedCategory(cat.key)}\r\n                      className={`px-4 py-1.5 rounded-full text-sm font-medium border transition-all ${\r\n                        selectedCategory === cat.key\r\n                          ? \"bg-blue-600 text-white border-blue-600 shadow-sm\"\r\n                          : \"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200\"\r\n                      }`}\r\n                    >\r\n                      {cat.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n\r\n                {sortedMedia.length === 0 ? (\r\n                  <div className=\"text-center py-16 px-8\">\r\n                    <div className=\"text-8xl mb-4 opacity-30\"></div>\r\n                    <h3 className=\"text-2xl font-bold text-gray-900 mb-1\">\r\n                      {selectedCategory === \"all\" \r\n                        ? \"Bienvenido a tu galer√≠a\" \r\n                        : `No hay contenido en la categor√≠a \"${selectedCategory.replace(\"_\", \" \")}\"`}\r\n                    </h3>\r\n                    <p className=\"text-gray-600 text-base mb-8 max-w-lg mx-auto\">\r\n                      {selectedCategory === \"all\"\r\n                        ? \"Sube tus primeras fotos y videos para empezar a compartir tu contenido con agencias de viajes.\"\r\n                        : \"No hay contenido multimedia en esta categor√≠a. Sube contenido o cambia la categor√≠a.\"}\r\n                    </p>\r\n                    {selectedCategory === \"all\" && (\r\n                      <button\r\n                        onClick={() => window.location.href = \"/hotel-media\"}\r\n                        className=\"px-10 py-4 bg-blue-500 text-white rounded-lg font-semibold text-base shadow-md hover:bg-blue-600 hover:shadow-lg transition-all hover:-translate-y-0.5\"\r\n                      >\r\n                        Subir mi primer contenido\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8\">\r\n                      {sortedMedia.map((item, index) => (\r\n                        <div \r\n                          key={item.id || index} \r\n                          className=\"rounded-xl overflow-hidden shadow-sm transition-all cursor-pointer bg-white hover:translate-y-[-4px] hover:shadow-lg\"\r\n                        >\r\n                          {item.type === \"video\" ? (\r\n                            <div className=\"w-full pt-[75%] bg-gradient-to-br from-black to-gray-800 flex items-center justify-center text-white text-4xl relative\">\r\n                              <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\">\r\n                                üé•\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            <img\r\n                              src={item.url}\r\n                              alt={`Media ${index}`}\r\n                              loading=\"lazy\"\r\n                              className=\"w-full h-48 object-cover block transition-transform hover:scale-105\"\r\n                            />\r\n                          )}\r\n                          <div className=\"p-4 bg-gray-50 border-t border-gray-200\">\r\n                            {item.category && (\r\n                              <p className=\"text-xs font-semibold text-blue-600 mb-2 capitalize\">\r\n                                {item.category.replace(\"_\", \" \")}\r\n                              </p>\r\n                            )}\r\n\r\n                            <div className=\"flex flex-wrap gap-1 mb-2\">\r\n                              {item.tags?.map((tag: string) => (\r\n                                <span\r\n                                  key={tag}\r\n                                  className=\"bg-blue-50 text-blue-600 text-xs px-2 py-0.5 rounded\"\r\n                                >\r\n                                  {tag}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n\r\n                            <p className=\"text-xs text-gray-500\">\r\n                              {item.type === \"video\" ? \"Video\" : \"Foto\"} ‚Äî {new Date().toLocaleDateString()}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n\r\n                    <div className=\"text-center mt-6\">\r\n                      <button\r\n                        onClick={() => window.location.href = \"/hotel-media\"}\r\n                        className=\"px-8 py-3.5 bg-blue-50 text-blue-600 rounded-lg font-semibold text-sm hover:bg-blue-100 transition-all hover:-translate-y-0.5\"\r\n                      >\r\n                        Subir o gestionar m√°s contenido\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {org.role === \"agency\" && (\r\n            <div className=\"max-w-7xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n              <div className=\"p-8\">\r\n                {approvedHotels.length === 0 ? (\r\n                  <div className=\"text-center py-16 px-8\">\r\n                    <div className=\"text-8xl mb-4 opacity-30\"></div>\r\n                    <h3 className=\"text-2xl font-bold text-gray-900 mb-1\">\r\n                      Sin acceso a hoteles\r\n                    </h3>\r\n                    <p className=\"text-gray-600 text-base mb-8 max-w-lg mx-auto\">\r\n                      Solicita acceso a hoteles para comenzar a explorar sus galer√≠as de contenido.\r\n                    </p>\r\n                    <button\r\n                      onClick={() => window.location.href = \"/agency-requests\"}\r\n                      className=\"px-10 py-4 bg-blue-500 text-white rounded-lg font-semibold text-base shadow-md hover:bg-blue-600 hover:shadow-lg transition-all hover:-translate-y-0.5\"\r\n                    >\r\n                      Solicitar acceso ahora\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {/* Grid de tarjetas de hoteles */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                      {approvedHotels.map((hotel) => (\r\n                        <div\r\n                          key={hotel.id}\r\n                          className={`bg-white rounded-xl border ${\r\n                            expandedHotelId === hotel.id \r\n                              ? \"border-blue-400 shadow-md\" \r\n                              : \"border-gray-200 hover:border-blue-300\"\r\n                          } transition-all cursor-pointer`}\r\n                          onClick={() => toggleHotelGallery(hotel.id)}\r\n                        >\r\n                          <div className=\"p-5\">\r\n                            <div className=\"flex items-start justify-between\">\r\n                              <div>\r\n                                <h4 className={`text-lg font-bold ${\r\n                                  expandedHotelId === hotel.id ? \"text-blue-600\" : \"text-gray-900\"\r\n                                }`}>\r\n                                  {hotel.name}\r\n                                </h4>\r\n                              </div>\r\n                              <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${\r\n                                expandedHotelId === hotel.id \r\n                                  ? \"bg-blue-100 text-blue-600\" \r\n                                  : \"bg-gray-100 text-gray-600\"\r\n                              }`}>\r\n                                {expandedHotelId === hotel.id ? \"‚àí\" : \"+\"}\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Contenido expandido */}\r\n                            {expandedHotelId === hotel.id && media.length > 0 && (\r\n                              <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                                <div className=\"mb-3\">\r\n                                  <span className=\"text-sm font-semibold text-gray-700\">\r\n                                    Contenido reciente ({media.length} medios)\r\n                                  </span>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n                                  {media.slice(0, 6).map((item, idx) => (\r\n                                    <div \r\n                                      key={`preview-${idx}`}\r\n                                      className=\"aspect-square rounded overflow-hidden border border-gray-200\"\r\n                                    >\r\n                                      {item.type === \"video\" ? (\r\n                                        <div className=\"w-full h-full bg-gray-800 flex items-center justify-center text-white text-lg\">\r\n                                          ‚ñ∂\r\n                                        </div>\r\n                                      ) : (\r\n                                        <img\r\n                                          src={item.url}\r\n                                          alt={`Preview ${idx}`}\r\n                                          className=\"w-full h-full object-cover\"\r\n                                          onError={(e) => {\r\n                                            (e.target as HTMLImageElement).src = \"https://via.placeholder.com/150?text=No+Image\";\r\n                                          }}\r\n                                        />\r\n                                      )}\r\n                                    </div>\r\n                                  ))}\r\n                                </div>\r\n                                <div className=\"flex gap-3\">\r\n                                  <button\r\n                                    onClick={(e) => {\r\n                                      e.stopPropagation();\r\n                                      window.location.href = `/hotel-gallery/${hotel.id}`;\r\n                                    }}\r\n                                    className=\"flex-1 bg-blue-500 text-white text-sm font-medium py-2 rounded-lg hover:bg-blue-600 transition-colors\"\r\n                                  >\r\n                                    Ver galer√≠a completa\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {expandedHotelId === hotel.id && media.length === 0 && (\r\n                              <div className=\"mt-4 pt-4 border-t border-gray-200 text-center py-4 bg-gray-50 rounded-lg\">\r\n                                <p className=\"text-gray-600 text-sm\">\r\n                                  Este hotel a√∫n no ha subido contenido multimedia\r\n                                </p>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      {/* Estilos globales para animaciones */}\r\n      <style jsx global>{`\r\n        @keyframes fade-in-down {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-10px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        .animate-fade-in-down {\r\n          animation: fade-in-down 0.2s ease-out;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;AAGA;AACA;AACA;;;AALA,6BAA6B;AAC7B;;;;;AAuCA,MAAM,wBAAwB,CAAC,EAC7B,aAAa,EACb,WAAW,EACX,OAAO,EACP,UAAU,EACV,aAAa,EACb,kBAAkB,EACS;;IAC3B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,IAAA,0KAAS;2CAAC;YACR,MAAM;sEAAqB,CAAC;oBAC1B,MAAM,SAAS,MAAM,MAAM;oBAC3B,IAAI,CAAC,OAAO,OAAO,CAAC,4BAA4B;wBAC9C,UAAU;oBACZ;gBACF;;YAEA,SAAS,gBAAgB,CAAC,aAAa;YACvC;mDAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;0CAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;kCAGV,6LAAC;wBACC,WAAU;wBACV,MAAK;wBACL,QAAO;wBACP,aAAY;wBACZ,SAAQ;kCAER,cAAA,6LAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,GAAE;;;;;;;;;;;oBAIL,cAAc,mBACb,6LAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;YAKN,wBACC,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA8B;;;;;;4BAE3C,cAAc,mBACb,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;oBAOJ,yBACC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;;;;;4BAAqG;;;;;;;oBAMvH,CAAC,WAAW,cAAc,MAAM,KAAK,mBACpC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA2B;;;;;;4BAAQ;;;;;;;oBAMrD,CAAC,WAAW,cAAc,MAAM,GAAG,mBAClC,6LAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAC,kBAClB,6LAAC;gCAEC,WAAW,CAAC,+DAA+D,EACzE,CAAC,EAAE,IAAI,GAAG,eAAe,oBACzB;gCACF,SAAS,IAAM,CAAC,EAAE,IAAI,IAAI,WAAW,EAAE,EAAE;;kDAGzC,6LAAC;wCAAI,WAAU;kDACZ,CAAC,EAAE,IAAI,kBACN,6LAAC;4CAAK,WAAU;;;;;;;;;;;kDAKpB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAE,WAAU;0DACV,EAAE,KAAK;;;;;;0DAEV,6LAAC;gDAAE,WAAU;0DAA8B,EAAE,OAAO;;;;;;0DACpD,6LAAC;gDAAE,WAAU;0DAAkC,EAAE,IAAI;;;;;;;;;;;;kDAIvD,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CACC,SAAS,CAAC;gDACR,EAAE,eAAe;gDACjB,mBAAmB,EAAE,EAAE;4CACzB;4CACA,WAAU;4CACV,OAAM;sDAGN,cAAA,6LAAC;gDACC,WAAU;gDACV,MAAK;gDACL,QAAO;gDACP,aAAY;gDACZ,SAAQ;0DAER,cAAA,6LAAC;oDACC,eAAc;oDACd,gBAAe;oDACf,GAAE;;;;;;;;;;;;;;;;;;;;;;+BA3CL,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;AAwD3B;GAhJM;KAAA;AAkJS,SAAS;;IACtB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yKAAQ,EAAsB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAO7B,EAAE;IACP,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAiC,EAAE;IACvF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAgB;IACtE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB;IACpD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAS;IAEjE,yBAAyB;IACzB,MAAM,EACJ,aAAa,EACb,WAAW,EACX,SAAS,oBAAoB,EAC7B,UAAU,EACV,aAAa,EACb,kBAAkB,EACnB,GAAG,IAAA,uJAAgB,EAAC;IAErB,IAAA,0KAAS;+BAAC;YACR,MAAM;+CAAU;oBACd,IAAI;wBACF,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,2IAAQ,CAAC,IAAI,CAAC,UAAU;wBAE5D,IAAI,CAAC,aAAa,SAAS;4BACzB,OAAO,QAAQ,CAAC,IAAI,GAAG;4BACvB;wBACF;wBAEA,MAAM,SAAS,YAAY,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC1C,UAAU;wBAEV,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,2IAAQ,CACrC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,QACjB,WAAW;wBAEd,IAAI,CAAC,SAAS;4BACZ,OAAO,QAAQ,CAAC,IAAI,GAAG;4BACvB;wBACF;wBAEA,OAAO;wBAEP,sCAAsC;wBACtC,IAAI,QAAQ,IAAI,KAAK,SAAS;4BAC5B,MAAM,EAAE,MAAM,SAAS,EAAE,GAAG,MAAM,2IAAQ,CACvC,IAAI,CAAC,SACL,MAAM,CAAC,gDACP,EAAE,CAAC,YAAY,QAAQ,EAAE,EACzB,KAAK,CAAC,cAAc;gCAAE,WAAW;4BAAM;4BAG1C,SAAS,aAAa,EAAE;4BACxB,cAAc,WAAW,UAAU;4BAEnC,gCAAgC;4BAChC,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,2IAAQ,CAC1C,IAAI,CAAC,uBACL,MAAM,CAAC,MACP,EAAE,CAAC,YAAY,QAAQ,EAAE,EACzB,EAAE,CAAC,UAAU;4BAEhB,mBAAmB,cAAc,UAAU;4BAE3C,6BAA6B;4BAC7B,MAAM,EAAE,MAAM,aAAa,EAAE,GAAG,MAAM,2IAAQ,CAC3C,IAAI,CAAC,uBACL,MAAM,CAAC,MACP,EAAE,CAAC,YAAY,QAAQ,EAAE,EACzB,EAAE,CAAC,UAAU;4BAEhB,qBAAqB,eAAe,UAAU;wBAChD;wBAEA,yCAAyC;wBACzC,IAAI,QAAQ,IAAI,KAAK,UAAU;4BAC7B,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,2IAAQ,CACxC,IAAI,CAAC,uBACL,MAAM,CAAC,oBACP,EAAE,CAAC,aAAa,QAAQ,EAAE;4BAE7B,IAAI,cAAc,MAAM,OAAO,CAAC,aAAa;gCAC3C,MAAM,WAAW,WAAW,MAAM;4EAAC,CAAA,IAAK,EAAE,MAAM,KAAK;;gCACrD,MAAM,UAAU,WAAW,MAAM;2EAAC,CAAA,IAAK,EAAE,MAAM,KAAK;;gCAEpD,eAAe,SAAS,MAAM;gCAC9B,mBAAmB,QAAQ,MAAM;gCAEjC,MAAM,WAAW,SAAS,GAAG;4EAAC,CAAC,IAA4B,EAAE,QAAQ;;gCACrE,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,2IAAQ,CACxC,IAAI,CAAC,iBACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM;gCACZ,kBAAkB,cAAc,EAAE;4BACpC;wBACF;wBAEA,WAAW;oBACb,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,uBAAuB;wBACrC,WAAW;oBACb;gBACF;;YAEA;QACF;8BAAG,EAAE;IAEL,wCAAwC;IACxC,MAAM,gBACJ,qBAAqB,QACjB,QACA,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;IAEzC,8CAA8C;IAC9C,MAAM,cAAc;WAAI;KAAc,CAAC,IAAI,CAAC,CAAC,GAAG;QAC9C,MAAM,KAAK,EAAE,aAAa,IAAI;QAC9B,MAAM,KAAK,EAAE,aAAa,IAAI;QAC9B,OAAO,KAAK,IAAI,wBAAwB;IAC1C;IAEA,MAAM,qBAAqB,CAAC;QAC1B,IAAI,oBAAoB,SAAS;YAC/B,mBAAmB;YACnB,SAAS,EAAE;QACb,OAAO;YACL,mBAAmB;YACnB,2IAAQ,CACL,IAAI,CAAC,SACL,MAAM,CAAC,gDACP,EAAE,CAAC,YAAY,SACf,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM,GACvC,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,GAAK,SAAU,QAAQ,EAAE;QAE5C;IACF;IAEA,MAAM,eAAe;QACnB,MAAM,2IAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAA0B;;;;;;;;;;;;;;;;;IAI/C;IAEA,IAAI,CAAC,KAAK,OAAO;IAEjB,uFAAuF;IACvF,MAAM,eAAe,IAAI,aAAa,GAClC,IAAI,aAAa,GACjB,IAAI,IAAI,KAAK,UACX,CAAC,iCAAiC,EAAE,mBAAmB,IAAI,IAAI,EAAE,8BAA8B,CAAC,GAChG,CAAC,iCAAiC,EAAE,mBAAmB,IAAI,IAAI,EAAE,8BAA8B,CAAC;IAEtG,qBACE,6LAAC;kDAAc;;0BAEb,6LAAC;0DAAgB;;kCAEf,6LAAC;kEAAc;kCACb,cAAA,6LAAC;sEAAa;sCAAmC;;;;;;;;;;;kCAInD,6LAAC;kEAAc;kCACb,cAAA,6LAAC;sEAAc;;8CACb,6LAAC;8EAAc;8CACb,cAAA,6LAAC;wCACC,KAAK;wCACL,KAAK,IAAI,IAAI;kFACH;;;;;;;;;;;8CAGd,6LAAC;8EAAc;;sDACb,6LAAC;sFAAa;sDACX,IAAI,IAAI;;;;;;sDAEX,6LAAC;sFAAY;sDACV,IAAI,IAAI,KAAK,UAAU,UAAU;;;;;;;;;;;;;;;;;;;;;;;kCAO1C,6LAAC;kEAAc;;0CACb,6LAAC;gCACC,SAAS;oCACP,iBAAiB;oCACjB,OAAO,QAAQ,CAAC,IAAI,GAAG;gCACzB;0EACW,CAAC,yEAAyE,EACnF,kBAAkB,YACd,2BACA,mCACJ;0CACH;;;;;;4BAIA,IAAI,IAAI,KAAK,yBACZ,6LAAC;gCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;0EAC3B,CAAC,yEAAyE,EACnF,kBAAkB,aACd,2BACA,mCACJ;0CACH;;;;;;4BAKF,IAAI,IAAI,KAAK,0BACZ,6LAAC;gCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;0EAC3B,CAAC,yEAAyE,EACnF,kBAAkB,aACd,2BACA,mCACJ;0CACH;;;;;;0CAKH,6LAAC;gCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;0EAC3B,CAAC,yEAAyE,EACnF,kBAAkB,YACd,2BACA,mCACJ;0CACH;;;;;;;;;;;;kCAMH,6LAAC;kEAAc;kCACb,cAAA,6LAAC;4BACC,SAAS;sEACC;;8CAEV,6LAAC;oCAAwB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8EAApD;8CACb,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;gCACjE;;;;;;;;;;;;;;;;;;0BAOZ,6LAAC;0DAAe;;kCAEd,6LAAC;kEAAc;;0CACb,6LAAC;0EAAc;0CACb,cAAA,6LAAC;8EAAe;8CACb,kBAAkB,YAAY,cAAc;;;;;;;;;;;0CAIjD,6LAAC;0EAAc;0CAEb,cAAA,6LAAC;oCACC,eAAe;oCACf,aAAa;oCACb,SAAS;oCACT,YAAY;oCACZ,eAAe;oCACf,oBAAoB;;;;;;;;;;;;;;;;;kCAM1B,6LAAC;kEAAc;;0CAEb,6LAAC;0EAAc;;kDACb,6LAAC;kFAAa;kDACX,IAAI,IAAI,KAAK,UAAU,eAAe;;;;;;kDAEzC,6LAAC;kFAAY;kDACV,IAAI,IAAI,KAAK,UACV,yEACA;;;;;;;;;;;;4BAKP,IAAI,IAAI,KAAK,yBACZ,6LAAC;0EAAc;0CACb,cAAA,6LAAC;8EAAc;;sDAEb,6LAAC;sFAAc;sDACZ;gDACC;oDAAE,KAAK;oDAAO,OAAO;gDAAQ;gDAC7B;oDAAE,KAAK;oDAAY,OAAO;gDAAW;gDACrC;oDAAE,KAAK;oDAAgB,OAAO;gDAAe;gDAC7C;oDAAE,KAAK;oDAAY,OAAO;gDAAW;gDACrC;oDAAE,KAAK;oDAAiB,OAAO;gDAAgB;gDAC/C;oDAAE,KAAK;oDAAe,OAAO;gDAAc;gDAC3C;oDAAE,KAAK;oDAAW,OAAO;gDAAU;gDACnC;oDAAE,KAAK;oDAAO,OAAO;gDAAM;gDAC3B;oDAAE,KAAK;oDAAS,OAAO;gDAAQ;6CAChC,CAAC,GAAG,CAAC,CAAC,oBACL,6LAAC;oDAEC,SAAS,IAAM,oBAAoB,IAAI,GAAG;8FAC/B,CAAC,mEAAmE,EAC7E,qBAAqB,IAAI,GAAG,GACxB,qDACA,+DACJ;8DAED,IAAI,KAAK;mDARL,IAAI,GAAG;;;;;;;;;;wCAajB,YAAY,MAAM,KAAK,kBACtB,6LAAC;sFAAc;;8DACb,6LAAC;8FAAc;;;;;;8DACf,6LAAC;8FAAa;8DACX,qBAAqB,QAClB,4BACA,CAAC,kCAAkC,EAAE,iBAAiB,OAAO,CAAC,KAAK,KAAK,CAAC,CAAC;;;;;;8DAEhF,6LAAC;8FAAY;8DACV,qBAAqB,QAClB,mGACA;;;;;;gDAEL,qBAAqB,uBACpB,6LAAC;oDACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;8FAC5B;8DACX;;;;;;;;;;;iEAML;;8DACE,6LAAC;8FAAc;8DACZ,YAAY,GAAG,CAAC,CAAC,MAAM,sBACtB,6LAAC;sGAEW;;gEAET,KAAK,IAAI,KAAK,wBACb,6LAAC;8GAAc;8EACb,cAAA,6LAAC;kHAAc;kFAAwE;;;;;;;;;;yFAKzF,6LAAC;oEACC,KAAK,KAAK,GAAG;oEACb,KAAK,CAAC,MAAM,EAAE,OAAO;oEACrB,SAAQ;8GACE;;;;;;8EAGd,6LAAC;8GAAc;;wEACZ,KAAK,QAAQ,kBACZ,6LAAC;sHAAY;sFACV,KAAK,QAAQ,CAAC,OAAO,CAAC,KAAK;;;;;;sFAIhC,6LAAC;sHAAc;sFACZ,KAAK,IAAI,EAAE,IAAI,CAAC,oBACf,6LAAC;8HAEW;8FAET;mFAHI;;;;;;;;;;sFAQX,6LAAC;sHAAY;;gFACV,KAAK,IAAI,KAAK,UAAU,UAAU;gFAAO;gFAAI,IAAI,OAAO,kBAAkB;;;;;;;;;;;;;;2DApC1E,KAAK,EAAE,IAAI;;;;;;;;;;8DA2CtB,6LAAC;8FAAc;8DACb,cAAA,6LAAC;wDACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;kGAC5B;kEACX;;;;;;;;;;;;;;;;;;;;;;;;4BAUZ,IAAI,IAAI,KAAK,0BACZ,6LAAC;0EAAc;0CACb,cAAA,6LAAC;8EAAc;8CACZ,eAAe,MAAM,KAAK,kBACzB,6LAAC;kFAAc;;0DACb,6LAAC;0FAAc;;;;;;0DACf,6LAAC;0FAAa;0DAAwC;;;;;;0DAGtD,6LAAC;0FAAY;0DAAgD;;;;;;0DAG7D,6LAAC;gDACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;0FAC5B;0DACX;;;;;;;;;;;6DAKH;kDAEE,cAAA,6LAAC;sFAAc;sDACZ,eAAe,GAAG,CAAC,CAAC,sBACnB,6LAAC;oDAOC,SAAS,IAAM,mBAAmB,MAAM,EAAE;8FAL/B,CAAC,2BAA2B,EACrC,oBAAoB,MAAM,EAAE,GACxB,8BACA,wCACL,8BAA8B,CAAC;8DAGhC,cAAA,6LAAC;kGAAc;;0EACb,6LAAC;0GAAc;;kFACb,6LAAC;;kFACC,cAAA,6LAAC;sHAAc,CAAC,kBAAkB,EAChC,oBAAoB,MAAM,EAAE,GAAG,kBAAkB,iBACjD;sFACC,MAAM,IAAI;;;;;;;;;;;kFAGf,6LAAC;kHAAe,CAAC,wEAAwE,EACvF,oBAAoB,MAAM,EAAE,GACxB,8BACA,6BACJ;kFACC,oBAAoB,MAAM,EAAE,GAAG,MAAM;;;;;;;;;;;;4DAKzC,oBAAoB,MAAM,EAAE,IAAI,MAAM,MAAM,GAAG,mBAC9C,6LAAC;0GAAc;;kFACb,6LAAC;kHAAc;kFACb,cAAA,6LAAC;sHAAe;;gFAAsC;gFAC/B,MAAM,MAAM;gFAAC;;;;;;;;;;;;kFAGtC,6LAAC;kHAAc;kFACZ,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,MAAM,oBAC5B,6LAAC;0HAEW;0FAET,KAAK,IAAI,KAAK,wBACb,6LAAC;8HAAc;8FAAgF;;;;;yGAI/F,6LAAC;oFACC,KAAK,KAAK,GAAG;oFACb,KAAK,CAAC,QAAQ,EAAE,KAAK;oFAErB,SAAS,CAAC;wFACP,EAAE,MAAM,CAAsB,GAAG,GAAG;oFACvC;8HAHU;;;;;;+EAXT,CAAC,QAAQ,EAAE,KAAK;;;;;;;;;;kFAoB3B,6LAAC;kHAAc;kFACb,cAAA,6LAAC;4EACC,SAAS,CAAC;gFACR,EAAE,eAAe;gFACjB,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,eAAe,EAAE,MAAM,EAAE,EAAE;4EACrD;sHACU;sFACX;;;;;;;;;;;;;;;;;4DAON,oBAAoB,MAAM,EAAE,IAAI,MAAM,MAAM,KAAK,mBAChD,6LAAC;0GAAc;0EACb,cAAA,6LAAC;8GAAY;8EAAwB;;;;;;;;;;;;;;;;;mDAzEtC,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GvC;IA9iBwB;;QA6BlB,uJAAgB;;;MA7BE"}}]
}