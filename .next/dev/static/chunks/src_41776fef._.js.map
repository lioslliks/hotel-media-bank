{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n// ✅ Añade esta verificación\r\nconsole.log(\"Supabase URL:\", supabaseUrl);\r\nconsole.log(\"Supabase Key:\", supabaseAnonKey);\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN,4BAA4B;AAC5B,QAAQ,GAAG,CAAC,iBAAiB;AAC7B,QAAQ,GAAG,CAAC,iBAAiB;AAE7B;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/hooks/useNotifications.ts"],"sourcesContent":["// src/hooks/useNotifications.ts\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { supabase } from '../lib/supabaseClient';\r\n\r\nexport interface Notification {\r\n  id: string;\r\n  user_id: string;\r\n  organization_id: string;\r\n  type: string;\r\n  title: string;\r\n  message: string;\r\n  data: any;\r\n  is_read: boolean;\r\n  created_at: string;\r\n}\r\n\r\nexport function useNotifications(userId: string | null) {\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const loadNotifications = useCallback(async () => {\r\n    if (!userId) {\r\n      setNotifications([]);\r\n      setUnreadCount(0);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('notifications')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .order('created_at', { ascending: false })\r\n        .limit(20);\r\n\r\n      if (error) throw error;\r\n\r\n      setNotifications(data || []);\r\n      setUnreadCount(data?.filter((n: Notification) => !n.is_read).length || 0);\r\n    } catch (error) {\r\n      console.error('Error loading notifications:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [userId]);\r\n\r\n  const markAsRead = useCallback(async (notificationId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .update({ is_read: true })\r\n        .eq('id', notificationId);\r\n\r\n      if (error) throw error;\r\n\r\n      setNotifications(prev =>\r\n        prev.map(n => (n.id === notificationId ? { ...n, is_read: true } : n))\r\n      );\r\n      setUnreadCount(prev => Math.max(0, prev - 1));\r\n    } catch (error) {\r\n      console.error('Error marking notification as read:', error);\r\n    }\r\n  }, []);\r\n\r\n  const markAllAsRead = useCallback(async () => {\r\n    if (!userId) return;\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .update({ is_read: true })\r\n        .eq('user_id', userId)\r\n        .eq('is_read', false);\r\n\r\n      if (error) throw error;\r\n\r\n      setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\r\n      setUnreadCount(0);\r\n    } catch (error) {\r\n      console.error('Error marking all notifications as read:', error);\r\n    }\r\n  }, [userId]);\r\n\r\n  const deleteNotification = useCallback(async (notificationId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .delete()\r\n        .eq('id', notificationId);\r\n\r\n      if (error) throw error;\r\n\r\n      setNotifications(prev => prev.filter(n => n.id !== notificationId));\r\n      // Actualizar contador si la notificación eliminada estaba sin leer\r\n      setUnreadCount(prev => Math.max(0, prev - 1));\r\n    } catch (error) {\r\n      console.error('Error deleting notification:', error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadNotifications();\r\n\r\n    if (!userId) return;\r\n\r\n    const channel = supabase\r\n      .channel(`notifications:${userId}`)\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'notifications',\r\n          filter: `user_id=eq.${userId}`\r\n        },\r\n        (payload) => {\r\n          console.log('Realtime event:', payload.eventType, payload);\r\n\r\n          if (payload.eventType === 'INSERT') {\r\n            // Nueva notificación\r\n            setNotifications(prev => [payload.new as Notification, ...prev]);\r\n            if (!(payload.new as Notification).is_read) {\r\n              setUnreadCount(prev => prev + 1);\r\n            }\r\n          } else if (payload.eventType === 'UPDATE') {\r\n            // Notificación actualizada (marcada como leída/no leída)\r\n            const oldNotification = notifications.find(n => n.id === payload.old.id);\r\n            const newNotification = payload.new as Notification;\r\n\r\n            setNotifications(prev =>\r\n              prev.map(n => (n.id === newNotification.id ? { ...n, ...newNotification } : n))\r\n            );\r\n\r\n            // Actualizar contador si cambió el estado de lectura\r\n            if (oldNotification && oldNotification.is_read !== newNotification.is_read) {\r\n              if (newNotification.is_read) {\r\n                setUnreadCount(prev => Math.max(0, prev - 1));\r\n              } else {\r\n                setUnreadCount(prev => prev + 1);\r\n              }\r\n            }\r\n          } else if (payload.eventType === 'DELETE') {\r\n            // Notificación eliminada\r\n            const deletedNotification = payload.old as Notification;\r\n            setNotifications(prev => prev.filter(n => n.id !== deletedNotification.id));\r\n            \r\n            // Actualizar contador si la notificación eliminada estaba sin leer\r\n            if (!deletedNotification.is_read) {\r\n              setUnreadCount(prev => Math.max(0, prev - 1));\r\n            }\r\n          }\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, [userId, loadNotifications, notifications]);\r\n\r\n  return {\r\n    notifications,\r\n    unreadCount,\r\n    loading: loading,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    deleteNotification,\r\n    reload: loadNotifications\r\n  };\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/achra/proyectos/app-hotel-nueva/src/app/hotel-media/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"../../lib/supabaseClient\";\r\nimport { useNotifications } from \"../../hooks/useNotifications\";\r\nimport NotificationsDropdown from \"../../components/NotificationsDropdown\";\r\nimport Gallery from \"@/components/Gallery\";\r\n\r\ninterface Organization {\r\n  id: string;\r\n  name: string;\r\n  role: string;\r\n  address: string;\r\n  phone: string;\r\n  country: string;\r\n  province: string;\r\n  city: string;\r\n  website: string | null;\r\n  stars: number | null;\r\n  hotel_type: string | null;\r\n  profile_image: string | null;\r\n}\r\n\r\nconst DeletePhotoModal = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  photoName,\r\n}: {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  photoName?: string;\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-gray-200\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Confirmar eliminación</h3>\r\n        <p className=\"text-gray-600 text-sm leading-relaxed mb-4\">\r\n          {photoName\r\n            ? `¿Estás seguro de que quieres eliminar \"${photoName}\"?`\r\n            : \"¿Estás seguro de que quieres eliminar esta foto?\"}\r\n          <br />\r\n          <span className=\"text-red-600 font-semibold\">Esta acción no se puede deshacer.</span>\r\n        </p>\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n\r\n          <button\r\n            onClick={onConfirm}\r\n            className=\"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 shadow-sm hover:shadow-md\"\r\n          >\r\n            Eliminar permanentemente\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default function HotelMediaPage() {\r\n  const [org, setOrg] = useState<Organization | null>(null);\r\n  const [media, setMedia] = useState<{ url: string; type: string; id: string }[]>([]);\r\n  const [approvedHotels, setApprovedHotels] = useState<{ id: string; name: string }[]>([]);\r\n  const [expandedHotelId, setExpandedHotelId] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeSection, setActiveSection] = useState(\"gallery\");\r\n  const [totalMedia, setTotalMedia] = useState(0);\r\n  const [pendingRequests, setPendingRequests] = useState(0);\r\n  const [connectedAgencies, setConnectedAgencies] = useState(0);\r\n  const [totalHotels, setTotalHotels] = useState(0);\r\n  const [userId, setUserId] = useState<string | null>(null);\r\n\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [photoToDelete, setPhotoToDelete] = useState<{ id: string; name?: string } | null>(null);\r\n\r\n  const {\r\n    notifications,\r\n    unreadCount,\r\n    loading: notificationsLoading,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    deleteNotification,\r\n  } = useNotifications(userId);\r\n\r\n  useEffect(() => {\r\n    const loadOrg = async () => {\r\n      try {\r\n        const { data: sessionData } = await supabase.auth.getSession();\r\n        if (!sessionData?.session) {\r\n          window.location.href = \"/login\";\r\n          return;\r\n        }\r\n\r\n        const userId = sessionData.session.user.id;\r\n        setUserId(userId);\r\n\r\n        const { data: orgData } = await supabase\r\n          .from(\"organizations\")\r\n          .select(\"*\")\r\n          .eq(\"created_by\", userId)\r\n          .maybeSingle();\r\n\r\n        if (!orgData) {\r\n          window.location.href = \"/setup-organization\";\r\n          return;\r\n        }\r\n\r\n        setOrg(orgData as Organization);\r\n\r\n        if (orgData.role === \"hotel\") {\r\n          const { data: mediaData } = await supabase\r\n            .from(\"media\")\r\n            .select(\"id, url, type\")\r\n            .eq(\"hotel_id\", orgData.id)\r\n            .order(\"created_at\", { ascending: false });\r\n\r\n          setMedia(mediaData || []);\r\n          setTotalMedia(mediaData?.length || 0);\r\n\r\n          const { data: requestsData } = await supabase\r\n            .from(\"agency_hotel_access\")\r\n            .select(\"id\")\r\n            .eq(\"hotel_id\", orgData.id)\r\n            .eq(\"status\", \"pending\");\r\n\r\n          setPendingRequests(requestsData?.length || 0);\r\n\r\n          const { data: connectedData } = await supabase\r\n            .from(\"agency_hotel_access\")\r\n            .select(\"id\")\r\n            .eq(\"hotel_id\", orgData.id)\r\n            .eq(\"status\", \"approved\");\r\n\r\n          setConnectedAgencies(connectedData?.length || 0);\r\n        }\r\n\r\n        if (orgData.role === \"agency\") {\r\n          const { data: accessData } = await supabase\r\n            .from(\"agency_hotel_access\")\r\n            .select(\"hotel_id, status\")\r\n            .eq(\"agency_id\", orgData.id);\r\n\r\n          if (accessData && Array.isArray(accessData)) {\r\n            const approved = accessData.filter((a) => a.status === \"approved\");\r\n            const pending = accessData.filter((a) => a.status === \"pending\");\r\n\r\n            setTotalHotels(approved.length);\r\n            setPendingRequests(pending.length);\r\n\r\n            const hotelIds = approved.map((a) => a.hotel_id);\r\n\r\n            const { data: hotelsData } = await supabase\r\n              .from(\"organizations\")\r\n              .select(\"id, name\")\r\n              .in(\"id\", hotelIds);\r\n\r\n            setApprovedHotels(hotelsData || []);\r\n          }\r\n        }\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Error loading data:\", err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadOrg();\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  const handleDeletePhoto = async () => {\r\n    if (!photoToDelete) return;\r\n\r\n    try {\r\n      const photo = media.find((m) => m.id === photoToDelete.id);\r\n      if (!photo) throw new Error(\"Foto no encontrada\");\r\n\r\n      const fileName = photo.url.split(\"/\").pop();\r\n\r\n      await supabase.storage.from(\"media\").remove([fileName!]);\r\n      await supabase.from(\"media\").delete().eq(\"id\", photoToDelete.id);\r\n\r\n      setMedia((prev) => prev.filter((p) => p.id !== photoToDelete.id));\r\n      setTotalMedia((prev) => prev - 1);\r\n\r\n      setShowDeleteModal(false);\r\n      setPhotoToDelete(null);\r\n    } catch (err) {\r\n      console.error(\"Error al eliminar foto:\", err);\r\n    }\r\n  };\r\nif (loading) {\r\n  return (\r\n    <div className=\"min-h-screen flex justify-center items-center bg-white\">\r\n      <div className=\"p-8 bg-white rounded-xl shadow-sm text-center\">\r\n        <div className=\"w-8 h-8 mx-auto mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\r\n        <p className=\"text-gray-600 text-base\">Cargando...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nif (!org) return null;\r\n\r\nreturn (\r\n  <div className=\"min-h-screen flex bg-gray-50 font-sans\">\r\n\r\n    {/* SIDEBAR LIMPIO */}\r\n    <aside className=\"w-72 bg-gradient-to-b from-blue-800 to-blue-900 text-white p-6 fixed left-0 top-0 h-screen flex flex-col\">\r\n\r\n      {/* Título */}\r\n      <div className=\"flex items-center mb-8 pb-3 border-b border-white/10\">\r\n        <h1 className=\"text-xl font-bold tracking-tight\">Hotel Media Bank</h1>\r\n      </div>\r\n\r\n      {/* Volver */}\r\n      <nav className=\"flex-1 flex flex-col gap-2\">\r\n        <div\r\n          onClick={() => (window.location.href = \"/dashboard\")}\r\n          className=\"px-4 py-3.5 rounded-lg cursor-pointer font-medium text-sm transition-all text-white/80 hover:bg-white/10 flex items-center gap-2\"\r\n        >\r\n          <span className=\"text-lg\">←</span>\r\n          <span>Volver al Dashboard</span>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Logout */}\r\n      <div className=\"mt-auto pt-5 border-t border-white/10\">\r\n        <button\r\n          onClick={handleLogout}\r\n          className=\"w-full flex items-center justify-center gap-2 py-0.5 text-blue-200/90 hover:text-white transition-colors text-sm font-medium\"\r\n        >\r\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2}\r\n              d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n          </svg>\r\n          Cerrar Sesión\r\n        </button>\r\n      </div>\r\n\r\n    </aside>\r\n    {/* MAIN CONTENT */}\r\n    <main className=\"flex-1 ml-72 bg-gray-50 p-8 overflow-y-auto\">\r\n\r\n      {/* TOP BAR */}\r\n      <div className=\"fixed top-0 left-72 right-0 h-16 bg-white shadow-sm flex items-center justify-between px-8 z-40\">\r\n        <span className=\"text-sm text-gray-500 uppercase font-semibold\">\r\n          {activeSection === \"gallery\" ? \"Dashboard\" : activeSection}\r\n        </span>\r\n\r\n        <NotificationsDropdown\r\n          notifications={notifications}\r\n          unreadCount={unreadCount}\r\n          loading={notificationsLoading}\r\n          markAsRead={markAsRead}\r\n          markAllAsRead={markAllAsRead}\r\n          deleteNotification={deleteNotification}\r\n        />\r\n      </div>\r\n\r\n      {/* CONTENT */}\r\n      <div className=\"pt-24\">\r\n        <div className=\"mb-8\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            {org.role === \"hotel\" ? \"Mi Galería\" : \"Hoteles Disponibles\"}\r\n          </h2>\r\n          <p className=\"text-gray-600 text-base\">\r\n            {org.role === \"hotel\"\r\n              ? \"Gestiona y comparte tu contenido multimedia con agencias autorizadas\"\r\n              : \"Accede al contenido multimedia de tus hoteles asociados\"}\r\n          </p>\r\n        </div>\r\n\r\n        {/* GALERÍA DEL HOTEL */}\r\n        {org.role === \"hotel\" && (\r\n          <div className=\"max-w-7xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n            <div className=\"p-8\">\r\n              <Gallery key={media.length} />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* GALERÍAS PARA AGENCIAS */}\r\n        {org.role === \"agency\" && (\r\n          <div className=\"max-w-7xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n            <div className=\"p-8\">\r\n              {/* Aquí va tu código de agencias */}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* MODAL DE ELIMINACIÓN */}\r\n      <DeletePhotoModal\r\n        isOpen={showDeleteModal}\r\n        onClose={() => {\r\n          setShowDeleteModal(false);\r\n          setPhotoToDelete(null);\r\n        }}\r\n        onConfirm={handleDeletePhoto}\r\n        photoName={photoToDelete?.name}\r\n      />\r\n    </main>\r\n  </div>\r\n);\r\n}\r\n"],"names":[],"mappings":"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"}}]
}